<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Fractured Night â€” Public Duty</title>
<link href="https://fonts.googleapis.com/css2?family=Special+Elite&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#0b0b0f;
  --card1:#1c1c23;
  --card2:#262630;
  --accent:#e6e6e6;
  --nav:#14141a;
  --nav-hover:#f7d678;
  --highlight:#f7d678;
}
html,body{
  height:100%;
  margin:0;
  font-family:'Special Elite',monospace;
  background:var(--bg);
  color:var(--accent);
}
.navbar{
  width:100%;
  background:var(--nav);
  padding:12px 0;
  display:flex;
  justify-content:center;
  gap:24px;
  position:sticky;
  top:0;
  z-index:100;
}
.navbar a{
  color:var(--accent);
  text-decoration:none;
  font-weight:bold;
  transition:.2s;
}
.navbar a:hover{color:var(--nav-hover);}
.wrap{
  min-height:100%;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:28px;
  box-sizing:border-box;
}
header{text-align:center;width:100%;max-width:1000px}
h1{margin:6px 0;font-size:36px;color:var(--highlight);}
p.lead{opacity:.9;margin:6px 0 18px;font-size:18px;line-height:1.6;}
.pov-sign{
  display:inline-block;
  background:rgba(247,214,120,0.1);
  color:var(--highlight);
  padding:6px 12px;
  border-radius:12px;
  font-weight:bold;
  margin-bottom:12px;
}
.card-scene{
  background:linear-gradient(135deg,var(--card1),var(--card2));
  border-radius:12px;
  padding:18px;
  min-height:400px;
  width:100%;
  max-width:900px;
}
.input-field{
  padding:10px;
  border-radius:6px;
  border:none;
  margin-top:10px;
  width:80px;
  text-align:center;
}
.choice-btn{
  background:#222228;
  color:white;
  padding:10px 14px;
  border-radius:8px;
  font-family:'Special Elite';
  cursor:pointer;
  margin-top:12px;
  transition:.3s;
}
.choice-btn:hover{background:var(--highlight);color:#000;}
.outcome{
  margin-top:16px;
  background:rgba(255,255,255,0.03);
  padding:12px;
  border-radius:10px;
  min-height:120px;
  font-style:italic;
  line-height:1.4;
}
</style>
</head>
<body>
<div class="navbar">
  <a href="homepage.html">Home</a>
  <a href="story1.html">Act 1</a>
  <a href="story2.html">Act 2</a>
  <a href="story3.html">Act 3</a>
  <a href="story4.html">Act 4</a>
  <a href="aboutus.html">About Us</a>
</div>
<div class="wrap">
<header>
  <h1>Chapter 4: Public Duty</h1>
  <div class="pov-sign">POV: Mayor</div>
  <p class="lead">The bridge collapse shook the city. Publicly, I appear responsible. Now, I must allocate funds correctly, even if secretly some things remain hidden.</p>
</header>
<div class="card-scene">
  <div class="story-text" id="storyText">
    The public believes I inspected the bridge, managed city projects, and balanced budgets. My hidden actions remain my own secret.
  </div>
  <div class="outcome" id="outcome">
    Guess the correct amount for each budget item. 
  </div>
  <div id="budget-game" style="margin-top:12px;">
    <p>Bridge Repair Budget: 5000<br>How much did I spend on materials?</p>
    <input type="number" class="input-field" id="q1">
    <button class="choice-btn" onclick="checkQ1()">Submit</button>
  </div>
  <div id="budget-result" style="margin-top:12px;"></div>
</div>
</div>
<script>
const answers = [2000, 750, 1000]; // correct numbers for each question
let currentQ = 0;

function checkGuess(userGuess, correctAnswer) {
  if(userGuess === correctAnswer) return "correct";
  if(userGuess < correctAnswer) return "higher";
  return "lower";
}

function checkQ1() {
  const guess = Number(document.getElementById('q1').value);
  const feedback = checkGuess(guess, answers[currentQ]);
  const result = document.getElementById('budget-result');
  if(feedback === "correct"){
    result.innerHTML="<p>Correct!</p>";
    currentQ++;
    nextQuestion();
  } else {
    result.innerHTML="<p>"+feedback.toUpperCase()+"!</p>";
  }
}

function nextQuestion(){
  const gameDiv = document.getElementById('budget-game');
  if(currentQ===1){
    gameDiv.innerHTML = `
      <p>Staff Salaries: 3000<br>How much went to overtime?</p>
      <input type="number" class="input-field" id="q2">
      <button class="choice-btn" onclick="checkQ2()">Submit</button>
    `;
  } else if(currentQ===2){
    gameDiv.innerHTML = `
      <p>City Projects Fund: 4000<br>How much went to community outreach?</p>
      <input type="number" class="input-field" id="q3">
      <button class="choice-btn" onclick="checkQ3()">Submit</button>
    `;
  }
}

function checkQ2(){
  const guess = Number(document.getElementById('q2').value);
  const feedback = checkGuess(guess, answers[currentQ]);
  const result = document.getElementById('budget-result');
  if(feedback==="correct"){
    result.innerHTML="<p>Correct!</p>";
    currentQ++;
    nextQuestion();
  } else {
    result.innerHTML="<p>"+feedback.toUpperCase()+"!</p>";
  }
}

function checkQ3(){
  const guess = Number(document.getElementById('q3').value);
  const feedback = checkGuess(guess, answers[currentQ]);
  const result = document.getElementById('budget-result');
  if(feedback==="correct"){
    result.innerHTML="<p>All budget allocations complete.</p>";
    endGame();
  } else {
    result.innerHTML="<p>"+feedback.toUpperCase()+"!</p>";
  }
}

function endGame(){
  const gameDiv = document.getElementById('budget-game');
  gameDiv.innerHTML="<p>The city sees a responsible mayor at work.</p>";
  const outcome = document.getElementById('outcome');
  outcome.innerHTML="<p>The public applauds my careful management. My hidden actions remain secret.</p>";
  setTimeout(()=>{window.location.href='story.html';},3000);
}
</script>
</body>
</html>
