<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Before the Story - Fractured Night</title>
<link rel="icon" href="https://raw.githubusercontent.com/phipalibunao/CS3_2ndQtr_K18_K21/main/assets/cspairproj_favicon2.png">
<link href="https://fonts.googleapis.com/css2?family=Special+Elite&display=swap" rel="stylesheet">

<style>
body{
margin:0;
height:100vh;
background:black;
font-family:'Special Elite',cursive;
overflow:hidden;
display:flex;
justify-content:center;
align-items:center;
color:white;
}

#loadingScreen{
position:fixed;
inset:0;
background:black;
display:flex;
justify-content:center;
align-items:center;
flex-direction:column;
z-index:9999;
color:#00ff88;
font-size:1rem;
letter-spacing:2px;
}

.glitch{
animation:glitch 0.2s infinite alternate;
}

@keyframes glitch{
0%{transform:translateX(-2px);}
100%{transform:translateX(2px);}
}

#stormScreen{
position:fixed;
inset:0;
overflow:hidden;
z-index:1;
}

.wind{
position:absolute;
background:white;
opacity:0.1;
animation:windMove linear infinite;
}

@keyframes windMove{
0%{transform:translateX(-100vw);}
100%{transform:translateX(100vw);}
}

.flash{
position:fixed;
inset:0;
background:white;
opacity:0;
transition:opacity .2s;
z-index:2;
pointer-events:none;
}

form{
position:relative;
z-index:3;
background:rgba(0,0,0,0.85);
padding:40px;
border:2px solid white;
box-shadow:0 0 20px rgba(255,255,255,0.2);
display:none;
flex-direction:column;
gap:20px;
width:300px;
animation:pop 0.8s ease forwards;
}

@keyframes pop{
from{transform:scale(.7);opacity:0;}
to{transform:scale(1);opacity:1;}
}

h1{
font-size:1.3rem;
text-align:center;
}

input,select{
padding:8px;
background:black;
color:white;
border:1px solid white;
font-family:'Special Elite',cursive;
}

button{
padding:10px;
background:white;
color:black;
border:none;
cursor:pointer;
font-family:'Special Elite',cursive;
transition:.3s;
}

button:hover{
background:#00ff88;
color:black;
}
</style>
</head>

<body>

<div id="loadingScreen">
<div class="glitch">SYSTEM BREACH DETECTED</div>
<div class="glitch">Initializing Story Engine...</div>
<div class="glitch">Loading Night Protocol...</div>
</div>

<div id="stormScreen"></div>
<div class="flash" id="flash"></div>

<form id="playerForm">
<h1>Step Into the Night...</h1>
<input type="text" id="playerName" placeholder="Enter your alias" required>

<label>How do you usually view news?</label>
<select id="trustNews" required>
<option value="">--Select your mindset--</option>
<option value="Always trust it">Always trust it</option>
<option value="Sometimes question it">Sometimes question it</option>
<option value="Rarely trust it">Rarely trust it</option>
</select>

<button type="submit">Begin Story</button>
</form>

<script>
const loading=document.getElementById("loadingScreen");
const form=document.getElementById("playerForm");
const storm=document.getElementById("stormScreen");
const flash=document.getElementById("flash");

window.addEventListener("load",()=>{
setTimeout(()=>{
loading.style.display="none";
form.style.display="flex";
},3000);
});

form.addEventListener("submit",function(e){
e.preventDefault();
localStorage.setItem("playerName",document.getElementById("playerName").value);
localStorage.setItem("trustNews",document.getElementById("trustNews").value);
window.location.href="homepage.html";
});

for(let i=0;i<100;i++){
const gust=document.createElement("div");
gust.className="wind";
gust.style.top=Math.random()*100+"vh";
gust.style.animationDuration=3+Math.random()*3+"s";
gust.style.animationDelay=Math.random()*3+"s";
gust.style.width=1+Math.random()*3+"px";
gust.style.height=20+Math.random()*30+"px";
storm.appendChild(gust);
}

setInterval(()=>{
flash.style.opacity=0.4;
setTimeout(()=>{flash.style.opacity=0;},150);
},4000+Math.random()*3000);
</script>

</body>
</html>
